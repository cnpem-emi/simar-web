(function(t){function e(e){for(var o,i,r=e[0],c=e[1],l=e[2],d=0,v=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&v.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(v.length)v.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"15dc":function(t,e,n){},"2e10":function(t,e,n){"use strict";n("15dc")},"336c":function(t,e,n){t.exports=n.p+"img/back.d459cae2.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",{attrs:{fluid:""}},[n("toolbar",{attrs:{settings:t.settings,account:t.account},on:{sort:t.updateSort,desc:t.updateDesc,search:t.updateSearch,logout:t.logout,login:t.login}}),n("iterator",{attrs:{settings:t.settings}})],1),n("ft"),n("v-snackbar",{attrs:{timeout:"4000"},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[n("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbar_text)+" ")])],1)},a=[],i=(n("b0c0"),n("ac1f"),n("841c"),n("1276"),n("96cf"),n("1da1")),r=n("1b7b"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-data-iterator",{attrs:{items:t.items,"items-per-page":t.itemsPerPage,page:t.page,search:this.settings.search,"sort-by":this.settings.sortBy,"sort-desc":this.settings.sortDesc,"custom-sort":t.numSort,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-row",t._l(e.items,(function(e){return n("v-col",{key:e.name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[n("iteratorcard",{key:e.name,attrs:{item:e,keys:t.settings.keys,filteredKeys:t.filteredKeys}})],1)})),1)]}},{key:"footer",fn:function(){return[n("v-row",{staticClass:"mt-2 no-margin",attrs:{align:"center",justify:"center"}},[n("span",{staticClass:"white--text"},[t._v("Items per page")]),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"ml-2 blue-background",attrs:{dark:"",text:"",color:"white"}},"v-btn",s,!1),o),[t._v(" "+t._s(t.itemsPerPage)+" "),n("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[n("v-list",t._l([8,12,16,20],(function(e,o){return n("v-list-item",{key:o,on:{click:function(n){return t.updateItemsPerPage(e)}}},[n("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1),n("v-spacer"),n("span",{staticClass:"mr-4 white--text"},[t._v(" Page "+t._s(t.page)+" of "+t._s(t.numberOfPages)+" ")]),n("v-btn",{staticClass:"mr-1",attrs:{dark:"",color:"blue darken-3"},on:{click:t.formerPage}},[n("v-icon",[t._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"ml-1",attrs:{dark:"",color:"blue darken-3"},on:{click:t.nextPage}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)},l=[],u=(n("4de4"),n("c740"),n("caad"),n("c975"),n("baa5"),n("4e827"),n("b680"),n("d3b7"),n("acd8"),n("2532"),n("ddb0"),n("b85c")),d=(n("fb6a"),d||{});d.epics2web=d.epics2web||{},d.contextPrefix=d.contextPrefix||"",function(){if("function"===typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),d.epics2web.ClientConnection=function(t){var e="ws:";"https:"===window.location.protocol&&(e="wss:");var n={url:e+"//"+window.location.host+d.contextPrefix+"/epics2web/monitor",autoOpen:!0,autoReconnect:!0,autoLivenessPingAndTimeout:!0,autoDisplayClasses:!0,pingIntervalMillis:3e3,livenessTimoutMillis:2e3,reconnectWaitMillis:1e3,chunkedRequestPvsCount:400,clientName:window.location.href};for(var o in t||(t={}),n)"undefined"!==typeof t[o]?this[o]=t[o]:this[o]=n[o];var s=null,a=document.createElement("div"),i=null,r=this,c=null,l=!1,u=function(){null!==s&&s.readyState===WebSocket.OPEN&&(r.ping(),null!==c||(c=setTimeout((function(){s.readyState===WebSocket.OPEN&&s.close(),c=null}),r.livenessTimoutMillis)))};a.addEventListener("open",(function(t){r.onopen(t)})),a.addEventListener("close",(function(t){r.onclose(t)})),a.addEventListener("connecting",(function(t){r.onconnecting(t)})),a.addEventListener("closing",(function(t){r.onclosing(t)})),a.addEventListener("error",(function(t){r.onerror(t)})),a.addEventListener("message",(function(t){r.onmessage(t)})),a.addEventListener("info",(function(t){r.oninfo(t)})),a.addEventListener("update",(function(t){r.onupdate(t)})),a.addEventListener("pong",(function(t){r.onpong(t)})),this.addEventListener=a.addEventListener.bind(a),this.removeEventListener=a.removeEventListener.bind(a),this.dispatchEvent=a.dispatchEvent.bind(a),this.open=function(){if(null!==s&&s.readyState!==WebSocket.CLOSED)return console.log("already connected"),1;var t=new CustomEvent("connecting");a.dispatchEvent(t);var e=this.url;null!==this.clientName&&(e=e+"?clientName="+encodeURIComponent(this.clientName)),s=new WebSocket(e),s.onerror=function(t){console.log("server connection error"),console.log(t);var e=new CustomEvent("error");a.dispatchEvent(e)},s.onclose=function(t){console.log("server connection closed"),console.log(t.reason);var e=new CustomEvent("close");a.dispatchEvent(e),null!==c&&(clearTimeout(c),c=null);var n=null===s||s.readyState===WebSocket.CLOSED;r.autoReconnect&&!l&&n&&(l=!0,setTimeout((function(){r.open(),l=!1}),r.reconnectWaitMillis))},s.onmessage=function(t){null!==c&&(clearTimeout(c),c=null),i=new Date;var e=JSON.parse(t.data);if(e.date=i,"update"===e.type){var n=new CustomEvent("update",{detail:e});a.dispatchEvent(n)}else if("info"===e.type){var o=new CustomEvent("info",{detail:e});a.dispatchEvent(o)}else if("pong"===e.type){var s=new CustomEvent("pong");a.dispatchEvent(s)}var r=new CustomEvent("message");a.dispatchEvent(r,{detail:e})},s.onopen=function(){i=new Date;var t=new CustomEvent("open");a.dispatchEvent(t)}},this.close=function(t,e){console.log("close"),null!==s&&s.readyState!==WebSocket.CLOSED?("undefined"===typeof t&&(t=1e3),s.close(t,e)):console.log("already closed")},this.monitorPvs=function(t){var e,n,o;if(r.chunkedRequestPvsCount>0)for(e=0,n=t.length;e<n;e+=r.chunkedRequestPvsCount)o=t.slice(e,e+r.chunkedRequestPvsCount),this.monitorPvsChunk(o);else this.monitorPvsChunk(t)},this.monitorPvsChunk=function(t){var e={type:"monitor",pvs:t};s.send(JSON.stringify(e))},this.clearPvs=function(t){var e,n,o;if(r.chunkedRequestPvsCount>0)for(e=0,n=t.length;e<n;e+=r.chunkedRequestPvsCount)o=t.slice(e,e+r.chunkedRequestPvsCount),this.clearPvsChunk(o);else this.clearPvsChunk(t)},this.clearPvsChunk=function(t){var e={type:"clear",pvs:t};s.send(JSON.stringify(e))},this.ping=function(){var t={type:"ping"};s.send(JSON.stringify(t))},!0===this.autoOpen&&this.open(),!0===this.autoLivenessPingAndTimeout&&window.setInterval(u,this.pingIntervalMillis)},d.epics2web.ClientConnection.prototype.onopen=function(){},d.epics2web.ClientConnection.prototype.onclose=function(){},d.epics2web.ClientConnection.prototype.onconnecting=function(){},d.epics2web.ClientConnection.prototype.onclosing=function(){},d.epics2web.ClientConnection.prototype.onmessage=function(){},d.epics2web.ClientConnection.prototype.onerror=function(){},d.epics2web.ClientConnection.prototype.onupdate=function(){},d.epics2web.ClientConnection.prototype.oninfo=function(){},d.epics2web.ClientConnection.prototype.onpong=function(){},d.epics2web.isNumericEpicsType=function(t){var e;switch(t){case"DBR_DOUBLE":case"DBR_FLOAT":case"DBR_INT":case"DBR_SHORT":case"DBR_BYTE":e=!0;break;default:e=!1}return e};var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",{staticClass:"subheading font-weight-bold"},[t._v(" "+t._s(t.item.name)+" "),n("v-spacer"),n("config",{attrs:{name:t.item.name,outlets:t.item.outlets}})],1),n("v-divider"),n("v-list",{attrs:{dense:""}},t._l(t.filteredKeys,(function(e,o){return n("v-list-item",{key:o},[n("v-list-item-content",[t._v(" "+t._s(e)+": ")]),"Fan speed"==e&&t.edit_fan?t._e():n("v-chip",{staticClass:"align-end",attrs:{color:t.get_pv_color(t.item,e),"text-color":"white",href:"http://10.0.38.42/archiver-viewer/?pv="+t.item.pvs[o]}},[t._v(" "+t._s(t.item.values[o])+" ")])],1)})),1),n("panels",{attrs:{outlets:t.item.outlets}})],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",{staticStyle:{padding:"2px 16px","font-size":"16px"},attrs:{accordion:"","disable-icon-rotate":t.critical},scopedSlots:t._u([t.critical?{key:"actions",fn:function(){return[n("v-icon",{attrs:{color:"error"}},[t._v(" mdi-alert-circle ")])]},proxy:!0}:null],null,!0)},[t._v(" Voltage ")]),n("v-expansion-panel-content",[n("v-list",{staticStyle:{"column-count":"2"},attrs:{dense:""}},t._l(t.outlets.voltages,(function(e,o){return n("v-list-item",{key:o},[n("v-list-item-icon",[n("v-icon",{attrs:{color:t.get_color(o)}},[t._v("mdi-power-plug-outline")])],1),n("v-list-item-content",[t._v(t._s(o))]),n("v-chip",{attrs:{color:t.get_color(o),dark:""}},[t._v(" "+t._s(""+t.outlets.voltages[o])+" ")]),n("v-chip",{attrs:{color:t.get_color(o),dark:""}},[t._v(" "+t._s(""+t.outlets.voltages[o])+" ")])],1)})),1)],1)],1)],1)},m=[],h=(n("45fc"),{props:["outlets"],data:function(){return{critical:!1}},methods:{get_color:function(t){return this.critical=this.outlets.voltages.some((function(t){return"?"!==t&&(t>240||t<200)})),this.outlets.voltages[t]>240||this.outlets.voltages[t]<200?"red":"?"===this.outlets.voltages[t]?"grey":"green"}}}),g=h,b=n("2877"),_=n("6544"),y=n.n(_),w=n("cc20"),k=n("cd55"),C=n("49e2"),x=n("c865"),P=n("0393"),V=n("132d"),O=n("8860"),E=n("da13"),S=n("5d23"),I=n("34c3"),$=Object(b["a"])(g,f,m,!1,null,null,null),L=$.exports;y()($,{VChip:w["a"],VExpansionPanel:k["a"],VExpansionPanelContent:C["a"],VExpansionPanelHeader:x["a"],VExpansionPanels:P["a"],VIcon:V["a"],VList:O["a"],VListItem:E["a"],VListItemContent:S["a"],VListItemIcon:I["a"]});var R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",small:"",fab:"",color:"grey"}},"v-btn",s,!1),o),[n("v-icon",{attrs:{dark:""}},[t._v("mdi-cog")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[t._v(t._s(t.name))])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:void 0===t.$store.state.accessToken},on:{click:t.apply_changes}},[t._v(" Save ")])],1)],1)],1)},j=[],D={props:["name","outlets"],data:function(){return{dialog:!1}},methods:{apply_changes:function(){this.$store.state.msalInstance.acquireTokenSilent({scopes:["User.Read"],account:this.$store.state.account}).then((function(t){this.$store.state.commit("setAccessToken",t.accessToken)}))}}},T=D,A=n("8336"),B=n("b0af"),N=n("99d9"),M=n("169a"),F=n("2fa4"),q=Object(b["a"])(T,R,j,!1,null,null,null),H=q.exports;y()(q,{VBtn:A["a"],VCard:B["a"],VCardActions:N["a"],VCardTitle:N["b"],VDialog:M["a"],VIcon:V["a"],VSpacer:F["a"]});var U={props:["items","item","filteredKeys","keys"],data:function(){return{edit_fan:!1,dialog:!1}},components:{panels:L,config:H},methods:{get_pv_color:function(t,e){var n=t.values[this.keys.indexOf(e)-1];if("?"===n)return"gray";var o=e.charAt(0).toLowerCase(),s=parseFloat(n.substring(0,n.indexOf(" ")));switch(e){case"Rack open":return"No"===t.values[this.keys.indexOf("Rack open")-1]?"green":"orange";default:return s>t[o+"_hihi"]||s<t[o+"_lolo"]?"red":s>t[o+"_hi"]||s<t[o+"_lo"]?"orange":"green"}}}},W=U,J=n("ce7e"),K=Object(b["a"])(W,v,p,!1,null,null,null),z=K.exports;y()(K,{VCard:B["a"],VCardTitle:N["b"],VChip:w["a"],VDivider:J["a"],VList:O["a"],VListItem:E["a"],VListItemContent:S["a"],VSpacer:F["a"]});var G=function(){var t="10.0.38.42";if("vpn.cnpem.br"===window.location.host){var e=/https?\/((?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])))\//,n=e.exec(window.location.href);n&&n.length>1&&(t=n[1])}else t=window.location.host;return(t.includes("0.0.0.0")||t.includes("localhost")||t.includes("10.0.38.50"))&&(t="10.0.38.42",console.log("__`o##o>__ DEBUG SERVER. Setting host to 10.0.38.42")),t},Y=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){fetch("config.json").then((function(t){return t.json()})).then((function(n){var o=[];e.headers=n.headers,e.symbols=n.symbols;var s,a=Object(u["a"])(n.items);try{for(a.s();!(s=a.n()).done;){var i=s.value;e.items.push(Object.assign({},i.fields,i.config,{outlets:{voltages:["?","?","?","?","?","?"]}},{values:["?","?","?","?","?","?"]}));var r,c=Object(u["a"])(i.config.pvs);try{for(c.s();!(r=c.n()).done;){var l=r.value;""!==l&&o.push(l)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}t(o)}))}),100)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q={components:{iteratorcard:z},props:["settings"],data:function(){return{filter:{},page:1,itemsPerPage:8,headers:[],items:[],symbols:{},edit_fan:!1,con:void 0,url:""}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.settings.keys.filter((function(t){return"Name"!==t}))}},methods:{numSort:function(t,e){var n=this;return t.sort((function(t,o){if("Name"===e[0])return n.settings.sortDesc?o.name>t.name:t.name>o.name;var s=n.settings.keys.indexOf(e[0]),a="Humidity-Mon"===s?"%":" ";return"RackOpen-Mon"!==s?n.settings.sortDesc?parseFloat(o.values[s].substring(0,o.values[s].indexOf(a)))>parseFloat(t.values[s].substring(0,t.values[s].indexOf(a))):parseFloat(t.values[s].substring(0,t.values[s].indexOf(a)))>parseFloat(o.values[s].substring(0,o.values[s].indexOf(a))):n.settings.sortDesc?o.values[s]>t.values[s]:t.values[s]>o.values[s]})),t},openPVs:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,o=Object(u["a"])(t.items);try{for(a=function(){var e,n=s.value,o=Object(u["a"])(n.pvs);try{var a=function(){var o=e.value,s=o.substring(o.lastIndexOf(":")+1),a=s.substring(0,1).toLowerCase();if(s.includes("RackOpen"))return"continue";s.includes("Corridor")?a=s.substring(9,10).toLowerCase():o.includes("Rack")&&(a=s.substring(12,13).toLowerCase()),""!==o&&fetch("http://"+t.url+"/retrieval/bpl/getMetadata?pv="+o).then((function(t){var e,o,s,i;void 0!==t&&(n[a+"_hihi"]=null!==(e=t.HIHI)&&void 0!==e?e:n[a+"_hihi"],n[a+"_hi"]=null!==(o=t.HIGH)&&void 0!==o?o:n[a+"_hi"],n[a+"_lolo"]=null!==(s=t.LOLO)&&void 0!==s?s:n[a+"_lolo"],n[a+"_lo"]=null!==(i=t.LO)&&void 0!==i?i:n[a+"_lo"])}))};for(o.s();!(e=o.n()).done;)a()}catch(i){o.e(i)}finally{o.f()}},o.s();!(s=o.n()).done;)a()}catch(i){o.e(i)}finally{o.f()}t.con.monitorPvs(n);case 6:case"end":return e.stop()}}),e)})))()},onUpdate:function(t){var e=t.detail.pv,n=this.items.findIndex((function(t){return t.pvs.includes(e)})),o=this.items[n].pvs.indexOf(t.detail.pv);e.includes("RackOpen-Mon")?this.$set(this.items[n].values,o,0==t.detail.value?"No":"Yes"):this.$set(this.items[n].values,o,t.detail.value.toFixed(2)+this.symbols[o]),this.$forceUpdate()},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t}},created:function(){this.url=G();var t={url:"ws://"+this.url+"/epics2web/monitor"};this.con=new d.epics2web.ClientConnection(t),this.con.onopen=this.openPVs,this.con.onupdate=this.onUpdate}},X=Q,Z=(n("5a1d"),n("62ad")),tt=n("a523"),et=n("c377"),nt=n("e449"),ot=n("0fd9"),st=Object(b["a"])(X,c,l,!1,null,"8987bf08",null),at=st.exports;y()(st,{VBtn:A["a"],VCol:Z["a"],VContainer:tt["a"],VDataIterator:et["a"],VIcon:V["a"],VList:O["a"],VListItem:E["a"],VListItemTitle:S["b"],VMenu:nt["a"],VRow:ot["a"],VSpacer:F["a"]});var it=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-toolbar",{staticClass:"mb-1",attrs:{src:n("336c"),dark:"",color:"blue darken-3"}},[t.$vuetify.breakpoint.smAndDown?[o("v-btn",{attrs:{icon:""},on:{click:function(e){t.dropdown=!t.dropdown}}},[o("v-icon",[t._v("mdi-menu")])],1)]:t._e(),o("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{input:function(e){return t.$emit("search",e)}}}),t.$vuetify.breakpoint.mdAndUp?[o("v-spacer"),o("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:this.settings.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(e){return t.$emit("sort",e)}},model:{value:t.settings.sortBy,callback:function(e){t.$set(t.settings,"sortBy",e)},expression:"settings.sortBy"}}),o("v-spacer"),o("v-btn-toggle",{attrs:{mandatory:""},on:{change:function(e){return t.$emit("desc",e)}}},[o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1,align:"start"}},[o("v-icon",[t._v("mdi-trending-up")])],1),o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[o("v-icon",[t._v("mdi-trending-down")])],1)],1)]:t._e(),o("v-spacer"),o("login",t._g({staticStyle:{"flex-grow":"0"}},t.$listeners))],2),t.dropdown&&t.$vuetify.breakpoint.smAndDown?o("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[o("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:this.settings.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(e){return t.$emit("sort",e)}}}),o("v-spacer"),o("v-btn",{directives:[{name:"show",rawName:"v-show",value:!this.settings.sortDesc,expression:"!this.settings.sortDesc"}],attrs:{large:"",depressed:"",color:"blue"},on:{click:function(e){return t.$emit("desc",!0)}}},[o("v-icon",[t._v("mdi-trending-down")])],1),o("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.settings.sortDesc,expression:"this.settings.sortDesc"}],attrs:{large:"",depressed:"",color:"blue",align:"start"},on:{click:function(e){return t.$emit("desc",!1)}}},[o("v-icon",[t._v("mdi-trending-up")])],1)],1):t._e()],1)},rt=[],ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",[t.$store.state.account?n("v-menu",{attrs:{bottom:"","min-width":"300px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({attrs:{icon:"","x-large":""}},o),[n("v-avatar",{attrs:{color:"indigo",size:"48"}},[n("span",{staticClass:"white--text text-h6"},[t._v(t._s(t.$store.state.account.initials))])])],1)]}}],null,!1,4070955592)},[n("v-card",[n("v-list-item-content",{staticClass:"justify-center"},[n("div",{staticClass:"mx-auto text-center"},[n("v-avatar",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"indigo"}},[n("span",{staticClass:"white--text text-h6"},[t._v(t._s(t.$store.state.account.initials))])]),n("h3",[t._v(t._s(t.$store.state.account.name))]),n("p",{staticClass:"text-caption mt-1"},[t._v(t._s(t.$store.state.account.username))]),n("v-divider",{staticClass:"my-3"}),n("v-btn",{attrs:{depressed:"",rounded:"",text:""},on:{click:function(e){return t.$emit("logout")}}},[t._v(" Disconnect ")])],1)])],1)],1):n("v-menu",{attrs:{"close-on-content-click":!1,bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({attrs:{icon:"","x-large":""},on:{click:function(e){return t.$emit("login")}}},o),[n("v-icon",[t._v("mdi-login")])],1)]}}])})],1)},lt=[],ut={data:function(){return{}}},dt=ut,vt=n("8212"),pt=Object(b["a"])(dt,ct,lt,!1,null,null,null),ft=pt.exports;y()(pt,{VAvatar:vt["a"],VBtn:A["a"],VCard:B["a"],VCol:Z["a"],VDivider:J["a"],VIcon:V["a"],VListItemContent:S["a"],VMenu:nt["a"]});var mt={components:{login:ft},props:["settings","account"],data:function(){return{filter:{},dropdown:!1,logged:!0}}},ht=mt,gt=n("a609"),bt=n("b974"),_t=n("8654"),yt=n("71d9"),wt=Object(b["a"])(ht,it,rt,!1,null,null,null),kt=wt.exports;y()(wt,{VBtn:A["a"],VBtnToggle:gt["a"],VContainer:tt["a"],VIcon:V["a"],VSelect:bt["a"],VSpacer:F["a"],VTextField:_t["a"],VToolbar:yt["a"]});var Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{color:"primary darken-2",padless:""}},[n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-btn",{staticClass:"my-2",attrs:{href:"https://cnpemcamp.sharepoint.com/sites/iot/SitePages/SIMAR-Soft.aspx",color:"white",text:"",rounded:""}},[t._v(" wiki ")]),n("v-btn",{staticClass:"my-2",attrs:{href:"https://gitlab.cnpem.br/IoT/simar-vue",color:"white",text:"",rounded:""}},[t._v(" gitlab ")]),n("v-btn",{staticClass:"my-2",attrs:{href:"mailto:guilherme.freitas@cnpem.br",color:"white",text:"",rounded:""}},[t._v(" contact ")])],1)],1)},xt=[],Pt=n("553a"),Vt={},Ot=Object(b["a"])(Vt,Ct,xt,!1,null,null,null),Et=Ot.exports;y()(Ot,{VBtn:A["a"],VFooter:Pt["a"],VRow:ot["a"]});var St={name:"App",components:{toolbar:kt,iterator:at,ft:Et},data:function(){return{settings:{sortDesc:!1,sortBy:"Name",search:"",keys:["Name","Temperature","Pressure","Rack open","Fan speed","Humidity"],pvs:{}},account:void 0,snackbar_text:"",snackbar:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=new r["a"](t.$store.state.msalConfig),t.$store.commit("setInstance",n);case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this.$store.state.msalInstance.getAllAccounts();0!=t.length&&(t[0].initials=this.getInitials(t[0]),this.$store.commit("setAccount",t[0]))},methods:{updateSearch:function(t){this.settings.search=t},updateDesc:function(t){this.settings.sortDesc=t},updateSort:function(t){this.settings.sortBy=t},getInitials:function(t){return t.name.split(" ")[0].substring(0,1)},showSnackbar:function(t){this.snackbar_text=t,this.snackbar=!0},login:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.msalInstance.loginPopup({}).then((function(){var e=t.$store.state.msalInstance.getAllAccounts();e[0].initials=t.getInitials(e[0]),t.$store.commit("setAccount",e[0])})).catch((function(t){console.error("error during authentication: ".concat(t))}));case 2:t.showSnackbar("Logged in as ".concat(t.$store.state.account.username));case 3:case"end":return e.stop()}}),e)})))()},logout:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.msalInstance.logout({}).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},It=St,$t=(n("2e10"),n("7496")),Lt=n("f6c4"),Rt=n("2db4"),jt=Object(b["a"])(It,s,a,!1,null,"1cd5e146",null),Dt=jt.exports;y()(jt,{VApp:$t["a"],VBtn:A["a"],VMain:Lt["a"],VSnackbar:Rt["a"]});var Tt=n("f309");o["a"].use(Tt["a"]);var At=new Tt["a"]({}),Bt=n("2f62");o["a"].use(Bt["a"]);var Nt=new Bt["a"].Store({state:{msalConfig:{auth:{clientId:"22b80e5a-e13f-48a2-b20f-9b3c24b90d64",authority:"https://login.microsoftonline.com/ed764e1f-b3b8-4aaf-8fb2-1d05be08443b"},cache:{cacheLocation:"localStorage"}},accessToken:"",msalInstance:"",account:void 0},mutations:{setAccessToken:function(t,e){t.accessToken=e},setInstance:function(t,e){t.msalInstance=e},setAccount:function(t,e){t.account=e}}}),Mt=Nt;o["a"].config.productionTip=!1,o["a"].prototype.$msalInstance={},new o["a"]({store:Mt,vuetify:At,render:function(t){return t(Dt)}}).$mount("#app")},"5a1d":function(t,e,n){"use strict";n("6a30")},"6a30":function(t,e,n){}});
//# sourceMappingURL=app.b5dbf3c2.js.map