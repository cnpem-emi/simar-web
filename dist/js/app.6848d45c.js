(function(t){function e(e){for(var s,a,r=e[0],c=e[1],l=e[2],v=0,d=[];v<r.length;v++)a=r[v],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},o={app:0},i=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"336c":function(t,e,n){t.exports=n.p+"img/back.d459cae2.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",{attrs:{fluid:""}},[n("toolbar",{attrs:{settings:t.settings,account:t.account},on:{sort:t.updateSort,desc:t.updateDesc,search:t.updateSearch,logout:t.logout,login:t.login,snackbar:t.showSnackbar}}),n("iterator",{attrs:{settings:t.settings}})],1),n("ft"),n("v-snackbar",{attrs:{timeout:"4000",color:"white",light:""},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[n("v-btn",t._b({attrs:{icon:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[n("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.$store.state.snackbar,callback:function(e){t.$set(t.$store.state,"snackbar",e)},expression:"$store.state.snackbar"}},[t._v(" "+t._s(t.$store.state.message)+" ")])],1)},i=[],a=(n("b0c0"),n("ac1f"),n("841c"),n("1276"),n("96cf"),n("1da1")),r=n("1b7b"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-data-iterator",{attrs:{items:t.items,"items-per-page":t.itemsPerPage,page:t.page,search:this.settings.search,"sort-by":this.settings.sortBy,"sort-desc":this.settings.sortDesc,"custom-sort":t.numSort,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("v-row",t._l(e.items,(function(e){return n("v-col",{key:e.name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[n("iteratorcard",{key:e.name,attrs:{item:e,keys:t.settings.keys,filteredKeys:t.filteredKeys}})],1)})),1)]}},{key:"footer",fn:function(){return[n("v-row",{staticClass:"mt-2 no-margin",attrs:{align:"center",justify:"center"}},[n("span",{staticClass:"white--text"},[t._v("Items per page")]),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"ml-2 blue-background",attrs:{dark:"",text:"",color:"white"}},"v-btn",o,!1),s),[t._v(" "+t._s(t.itemsPerPage)+" "),n("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[n("v-list",t._l([8,12,16,20],(function(e,s){return n("v-list-item",{key:s,on:{click:function(n){return t.updateItemsPerPage(e)}}},[n("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1),n("v-spacer"),n("span",{staticClass:"mr-4 white--text"},[t._v(" Page "+t._s(t.page)+" of "+t._s(t.numberOfPages)+" ")]),n("v-btn",{staticClass:"mr-1",attrs:{dark:"",color:"blue darken-3"},on:{click:t.formerPage}},[n("v-icon",[t._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"ml-1",attrs:{dark:"",color:"blue darken-3"},on:{click:t.nextPage}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)},l=[],u=(n("4de4"),n("c740"),n("caad"),n("c975"),n("baa5"),n("4e827"),n("b680"),n("d3b7"),n("acd8"),n("2532"),n("ddb0"),n("b85c")),v=(n("fb6a"),v||{});v.epics2web=v.epics2web||{},v.contextPrefix=v.contextPrefix||"",function(){if("function"===typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}(),v.epics2web.ClientConnection=function(t){var e="ws:";"https:"===window.location.protocol&&(e="wss:");var n={url:e+"//"+window.location.host+v.contextPrefix+"/epics2web/monitor",autoOpen:!0,autoReconnect:!0,autoLivenessPingAndTimeout:!0,autoDisplayClasses:!0,pingIntervalMillis:3e3,livenessTimoutMillis:2e3,reconnectWaitMillis:1e3,chunkedRequestPvsCount:400,clientName:window.location.href};for(var s in t||(t={}),n)"undefined"!==typeof t[s]?this[s]=t[s]:this[s]=n[s];var o=null,i=document.createElement("div"),a=null,r=this,c=null,l=!1,u=function(){null!==o&&o.readyState===WebSocket.OPEN&&(r.ping(),null!==c||(c=setTimeout((function(){o.readyState===WebSocket.OPEN&&o.close(),c=null}),r.livenessTimoutMillis)))};i.addEventListener("open",(function(t){r.onopen(t)})),i.addEventListener("close",(function(t){r.onclose(t)})),i.addEventListener("connecting",(function(t){r.onconnecting(t)})),i.addEventListener("closing",(function(t){r.onclosing(t)})),i.addEventListener("error",(function(t){r.onerror(t)})),i.addEventListener("message",(function(t){r.onmessage(t)})),i.addEventListener("info",(function(t){r.oninfo(t)})),i.addEventListener("update",(function(t){r.onupdate(t)})),i.addEventListener("pong",(function(t){r.onpong(t)})),this.addEventListener=i.addEventListener.bind(i),this.removeEventListener=i.removeEventListener.bind(i),this.dispatchEvent=i.dispatchEvent.bind(i),this.open=function(){if(null!==o&&o.readyState!==WebSocket.CLOSED)return console.log("already connected"),1;var t=new CustomEvent("connecting");i.dispatchEvent(t);var e=this.url;null!==this.clientName&&(e=e+"?clientName="+encodeURIComponent(this.clientName)),o=new WebSocket(e),o.onerror=function(t){console.log("server connection error"),console.log(t);var e=new CustomEvent("error");i.dispatchEvent(e)},o.onclose=function(t){console.log("server connection closed"),console.log(t.reason);var e=new CustomEvent("close");i.dispatchEvent(e),null!==c&&(clearTimeout(c),c=null);var n=null===o||o.readyState===WebSocket.CLOSED;r.autoReconnect&&!l&&n&&(l=!0,setTimeout((function(){r.open(),l=!1}),r.reconnectWaitMillis))},o.onmessage=function(t){null!==c&&(clearTimeout(c),c=null),a=new Date;var e=JSON.parse(t.data);if(e.date=a,"update"===e.type){var n=new CustomEvent("update",{detail:e});i.dispatchEvent(n)}else if("info"===e.type){var s=new CustomEvent("info",{detail:e});i.dispatchEvent(s)}else if("pong"===e.type){var o=new CustomEvent("pong");i.dispatchEvent(o)}var r=new CustomEvent("message");i.dispatchEvent(r,{detail:e})},o.onopen=function(){a=new Date;var t=new CustomEvent("open");i.dispatchEvent(t)}},this.close=function(t,e){console.log("close"),null!==o&&o.readyState!==WebSocket.CLOSED?("undefined"===typeof t&&(t=1e3),o.close(t,e)):console.log("already closed")},this.monitorPvs=function(t){var e,n,s;if(r.chunkedRequestPvsCount>0)for(e=0,n=t.length;e<n;e+=r.chunkedRequestPvsCount)s=t.slice(e,e+r.chunkedRequestPvsCount),this.monitorPvsChunk(s);else this.monitorPvsChunk(t)},this.monitorPvsChunk=function(t){var e={type:"monitor",pvs:t};o.send(JSON.stringify(e))},this.clearPvs=function(t){var e,n,s;if(r.chunkedRequestPvsCount>0)for(e=0,n=t.length;e<n;e+=r.chunkedRequestPvsCount)s=t.slice(e,e+r.chunkedRequestPvsCount),this.clearPvsChunk(s);else this.clearPvsChunk(t)},this.clearPvsChunk=function(t){var e={type:"clear",pvs:t};o.send(JSON.stringify(e))},this.ping=function(){var t={type:"ping"};o.send(JSON.stringify(t))},!0===this.autoOpen&&this.open(),!0===this.autoLivenessPingAndTimeout&&window.setInterval(u,this.pingIntervalMillis)},v.epics2web.ClientConnection.prototype.onopen=function(){},v.epics2web.ClientConnection.prototype.onclose=function(){},v.epics2web.ClientConnection.prototype.onconnecting=function(){},v.epics2web.ClientConnection.prototype.onclosing=function(){},v.epics2web.ClientConnection.prototype.onmessage=function(){},v.epics2web.ClientConnection.prototype.onerror=function(){},v.epics2web.ClientConnection.prototype.onupdate=function(){},v.epics2web.ClientConnection.prototype.oninfo=function(){},v.epics2web.ClientConnection.prototype.onpong=function(){},v.epics2web.isNumericEpicsType=function(t){var e;switch(t){case"DBR_DOUBLE":case"DBR_FLOAT":case"DBR_INT":case"DBR_SHORT":case"DBR_BYTE":e=!0;break;default:e=!1}return e};var d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",{staticClass:"subheading font-weight-bold"},[t._v(" "+t._s(t.item.name)+" "),n("v-spacer"),n("config",t._g({attrs:{name:t.item.name,outlets:t.item.outlets}},t.$listeners))],1),n("v-divider"),n("v-list",{attrs:{dense:""}},t._l(t.filteredKeys,(function(e,s){return n("v-list-item",{key:s},[n("v-list-item-content",[t._v(" "+t._s(e)+": ")]),"Fan speed"==e&&t.edit_fan?t._e():n("v-chip",{staticClass:"align-end",attrs:{color:t.get_pv_color(t.item,e),"text-color":"white",href:"http://10.0.38.42/archiver-viewer/?pv="+t.item.pvs[s]}},[t._v(" "+t._s(t.item.values[s])+" ")])],1)})),1),n("panels",{attrs:{outlets:t.item.outlets}})],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",{staticStyle:{padding:"2px 16px","font-size":"16px"},attrs:{accordion:"","disable-icon-rotate":t.critical},scopedSlots:t._u([t.critical?{key:"actions",fn:function(){return[n("v-icon",{attrs:{color:"error"}},[t._v(" mdi-alert-circle ")])]},proxy:!0}:null],null,!0)},[t._v(" Voltage ")]),n("v-expansion-panel-content",[n("v-list",{staticStyle:{"column-count":"2"},attrs:{dense:""}},t._l(t.outlets.voltages,(function(e,s){return n("v-list-item",{key:s},[n("v-list-item-icon",{staticStyle:{"margin-right":"3px"}},[n("v-icon",{attrs:{color:t.get_color(s)}},[t._v("mdi-power-plug-outline")])],1),n("v-list-item-content",[t._v(t._s(s))]),n("v-spacer"),n("v-chip",{attrs:{small:"",color:t.get_color(s),dark:""}},[t._v(" "+t._s(t.outlets.voltages[s]+" "+("?"!==t.outlets.voltages[s]?"V":"")+" / "+t.outlets.currents[s]+" "+("?"!==t.outlets.currents[s]?"A":""))+" ")])],1)})),1)],1)],1)],1)},m=[],h=(n("45fc"),{props:["outlets"],data:function(){return{critical:!1}},methods:{get_color:function(t){return this.critical=this.outlets.voltages.some((function(t){return"?"!==t&&(t>240||t<200)}))||this.outlets.currents.some((function(t){return"?"!==t&&t>20})),this.outlets.voltages[t]>240||this.outlets.voltages[t]<200||this.outlets.currents[t]>20?"red":"?"===this.outlets.voltages[t]&&"?"===this.outlets.currents[t]?"grey":"green"}}}),g=h,b=n("2877"),_=n("6544"),y=n.n(_),w=n("cc20"),k=n("cd55"),C=n("49e2"),x=n("c865"),V=n("0393"),S=n("132d"),P=n("8860"),O=n("da13"),E=n("5d23"),$=n("34c3"),I=n("2fa4"),L=Object(b["a"])(g,f,m,!1,null,null,null),R=L.exports;y()(L,{VChip:w["a"],VExpansionPanel:k["a"],VExpansionPanelContent:C["a"],VExpansionPanelHeader:x["a"],VExpansionPanels:V["a"],VIcon:S["a"],VList:P["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemIcon:$["a"],VSpacer:I["a"]});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",small:"",fab:"",color:"grey"}},"v-btn",o,!1),s),[n("v-icon",{attrs:{dark:""}},[t._v("mdi-cog")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[t._v(t._s(t.name))])]),n("v-divider"),n("v-list",{staticStyle:{"column-count":"3"},attrs:{dense:""}},t._l(t.outlets.voltages,(function(e,s){return n("v-list-item",{key:s},[n("v-list-item-content",[n("v-col",[n("v-list-item-title",[n("v-icon",{attrs:{color:t.get_color(s)}},[t._v("mdi-power-plug-outline")]),t._v(t._s(s))],1),n("v-list-item-subtitle",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.outlets.voltages[s])+" "+t._s("?"!==t.outlets.voltages[s]?"V":""))]),n("v-list-item-subtitle",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.outlets.currents[s])+" "+t._s("?"!==t.outlets.currents[s]?"A":""))])],1),n("v-col",[n("v-switch",{attrs:{"x-small":"",inset:""}})],1)],1)],1)})),1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:void 0===t.$store.state.accessToken},on:{click:t.apply_changes}},[t._v(" Apply ")])],1)],1)],1)},j=[],T={props:["name","outlets"],data:function(){return{dialog:!1}},methods:{apply_changes:function(){var t=this;this.$store.state.msalInstance.acquireTokenSilent({scopes:["User.Read"],account:this.$store.state.account}).then((function(){t.$store.commit("showSnackbar","Successfully applied settings to ".concat(t.name,"!"))}))},get_color:function(t){return this.critical=this.outlets.voltages.some((function(t){return"?"!==t&&(t>240||t<200)}))||this.outlets.currents.some((function(t){return"?"!==t&&t>20})),this.outlets.voltages[t]>240||this.outlets.voltages[t]<200||this.outlets.currents[t]>20?"red":"?"===this.outlets.voltages[t]&&"?"===this.outlets.currents[t]?"grey":"green"}}},A=T,B=n("8336"),N=n("b0af"),M=n("99d9"),F=n("62ad"),q=n("169a"),H=n("ce7e"),U=n("b73d"),W=Object(b["a"])(A,D,j,!1,null,null,null),J=W.exports;y()(W,{VBtn:B["a"],VCard:N["a"],VCardActions:M["a"],VCardTitle:M["b"],VCol:F["a"],VDialog:q["a"],VDivider:H["a"],VIcon:S["a"],VList:P["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VSpacer:I["a"],VSwitch:U["a"]});var K={props:["items","item","filteredKeys","keys"],data:function(){return{edit_fan:!1,dialog:!1}},components:{panels:R,config:J},methods:{get_pv_color:function(t,e){var n=t.values[this.keys.indexOf(e)-1];if("?"===n)return"gray";var s=e.charAt(0).toLowerCase(),o=parseFloat(n.substring(0,n.indexOf(" ")));switch(e){case"Rack open":return"No"===t.values[this.keys.indexOf("Rack open")-1]?"green":"orange";default:return o>t[s+"_hihi"]||o<t[s+"_lolo"]?"red":o>t[s+"_hi"]||o<t[s+"_lo"]?"orange":"green"}}}},z=K,G=Object(b["a"])(z,d,p,!1,null,null,null),Y=G.exports;y()(G,{VCard:N["a"],VCardTitle:M["b"],VChip:w["a"],VDivider:H["a"],VList:P["a"],VListItem:O["a"],VListItemContent:E["a"],VSpacer:I["a"]});var Q=function(){var t="10.0.38.42";if("vpn.cnpem.br"===window.location.host){var e=/https?\/((?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])))\//,n=e.exec(window.location.href);n&&n.length>1&&(t=n[1])}else t=window.location.host;return(t.includes("0.0.0.0")||t.includes("localhost")||t.includes("10.0.38.50"))&&(t="10.0.38.42",console.log("__`o##o>__ DEBUG SERVER. Setting host to 10.0.38.42")),t},X=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){fetch("config.json").then((function(t){return t.json()})).then((function(n){var s=[];e.headers=n.headers,e.symbols=n.symbols;var o,i=Object(u["a"])(n.items);try{for(i.s();!(o=i.n()).done;){var a=o.value;e.items.push(Object.assign({},a.fields,a.config,{outlets:{voltages:["?","?","?","?","?","?","?","?"],currents:["?","?","?","?","?","?","?","?"]}},{values:["?","?","?","?","?","?"]}));var r,c=Object(u["a"])(a.config.pvs);try{for(c.s();!(r=c.n()).done;){var l=r.value;""!==l&&s.push(l)}}catch(v){c.e(v)}finally{c.f()}}}catch(v){i.e(v)}finally{i.f()}t(s)}))}),100)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z={components:{iteratorcard:Y},props:["settings"],data:function(){return{filter:{},page:1,itemsPerPage:8,headers:[],items:[],symbols:{},edit_fan:!1,con:void 0,url:""}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.settings.keys.filter((function(t){return"Name"!==t}))}},methods:{numSort:function(t,e){var n=this;return t.sort((function(t,s){if("Name"===e[0])return n.settings.sortDesc?s.name>t.name:t.name>s.name;var o=n.settings.keys.indexOf(e[0]),i="Humidity-Mon"===o?"%":" ";return"RackOpen-Mon"!==o?n.settings.sortDesc?parseFloat(s.values[o].substring(0,s.values[o].indexOf(i)))>parseFloat(t.values[o].substring(0,t.values[o].indexOf(i))):parseFloat(t.values[o].substring(0,t.values[o].indexOf(i)))>parseFloat(s.values[o].substring(0,s.values[o].indexOf(i))):n.settings.sortDesc?s.values[o]>t.values[o]:t.values[o]>s.values[o]})),t},openPVs:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:n=e.sent,s=Object(u["a"])(t.items);try{for(i=function(){var e,n=o.value,s=Object(u["a"])(n.pvs);try{var i=function(){var s=e.value,o=s.substring(s.lastIndexOf(":")+1),i=o.substring(0,1).toLowerCase();if(o.includes("RackOpen"))return"continue";o.includes("Corridor")?i=o.substring(9,10).toLowerCase():s.includes("Rack")&&(i=o.substring(12,13).toLowerCase()),""!==s&&fetch("http://"+t.url+"/retrieval/bpl/getMetadata?pv="+s).then((function(t){var e,s,o,a;void 0!==t&&(n[i+"_hihi"]=null!==(e=t.HIHI)&&void 0!==e?e:n[i+"_hihi"],n[i+"_hi"]=null!==(s=t.HIGH)&&void 0!==s?s:n[i+"_hi"],n[i+"_lolo"]=null!==(o=t.LOLO)&&void 0!==o?o:n[i+"_lolo"],n[i+"_lo"]=null!==(a=t.LO)&&void 0!==a?a:n[i+"_lo"])}))};for(s.s();!(e=s.n()).done;)i()}catch(a){s.e(a)}finally{s.f()}},s.s();!(o=s.n()).done;)i()}catch(a){s.e(a)}finally{s.f()}t.con.monitorPvs(n);case 6:case"end":return e.stop()}}),e)})))()},onUpdate:function(t){var e=t.detail.pv,n=this.items.findIndex((function(t){return t.pvs.includes(e)})),s=this.items[n].pvs.indexOf(t.detail.pv);e.includes("RackOpen-Mon")?this.$set(this.items[n].values,s,0==t.detail.value?"No":"Yes"):this.$set(this.items[n].values,s,t.detail.value.toFixed(2)+this.symbols[s]),this.$forceUpdate()},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t}},created:function(){this.url=Q();var t={url:"ws://"+this.url+"/epics2web/monitor"};this.con=new v.epics2web.ClientConnection(t),this.con.onopen=this.openPVs,this.con.onupdate=this.onUpdate}},tt=Z,et=(n("789d"),n("a523")),nt=n("c377"),st=n("e449"),ot=n("0fd9"),it=Object(b["a"])(tt,c,l,!1,null,"ff04057c",null),at=it.exports;y()(it,{VBtn:B["a"],VCol:F["a"],VContainer:et["a"],VDataIterator:nt["a"],VIcon:S["a"],VList:P["a"],VListItem:O["a"],VListItemTitle:E["c"],VMenu:st["a"],VRow:ot["a"],VSpacer:I["a"]});var rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-toolbar",{staticClass:"mb-1",attrs:{src:n("336c"),dark:"",color:"blue darken-3"}},[t.$vuetify.breakpoint.smAndDown?[s("v-btn",{attrs:{icon:""},on:{click:function(e){t.dropdown=!t.dropdown}}},[s("v-icon",[t._v("mdi-menu")])],1)]:t._e(),s("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{input:function(e){return t.$emit("search",e)}}}),t.$vuetify.breakpoint.mdAndUp?[s("v-spacer"),s("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:this.settings.keys,"prepend-inner-icon":"mdi-sort",label:"Sort by"},on:{change:function(e){return t.$emit("sort",e)}},model:{value:t.settings.sortBy,callback:function(e){t.$set(t.settings,"sortBy",e)},expression:"settings.sortBy"}}),s("v-spacer"),s("v-btn-toggle",{attrs:{mandatory:""},on:{change:function(e){return t.$emit("desc",e)}}},[s("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1,align:"start"}},[s("v-icon",[t._v("mdi-trending-up")])],1),s("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[s("v-icon",[t._v("mdi-trending-down")])],1)],1)]:t._e(),s("v-spacer"),s("login",t._g({staticStyle:{"flex-grow":"0"}},t.$listeners))],2),t.dropdown&&t.$vuetify.breakpoint.smAndDown?s("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[s("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:this.settings.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(e){return t.$emit("sort",e)}}}),s("v-spacer"),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:!this.settings.sortDesc,expression:"!this.settings.sortDesc"}],attrs:{large:"",depressed:"",color:"blue"},on:{click:function(e){return t.$emit("desc",!0)}}},[s("v-icon",[t._v("mdi-trending-down")])],1),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.settings.sortDesc,expression:"this.settings.sortDesc"}],attrs:{large:"",depressed:"",color:"blue",align:"start"},on:{click:function(e){return t.$emit("desc",!1)}}},[s("v-icon",[t._v("mdi-trending-up")])],1)],1):t._e()],1)},ct=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",[t.$store.state.account?n("v-menu",{attrs:{bottom:"","min-width":"300px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-btn",t._g({attrs:{icon:"","x-large":""}},s),[n("v-avatar",{attrs:{color:"indigo",size:"48"}},[n("span",{staticClass:"white--text text-h6"},[t._v(t._s(t.$store.state.account.initials))])])],1)]}}],null,!1,4070955592)},[n("v-card",[n("v-list-item-content",{staticClass:"justify-center"},[n("div",{staticClass:"mx-auto text-center"},[n("v-avatar",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"indigo"}},[n("span",{staticClass:"white--text text-h6"},[t._v(t._s(t.$store.state.account.initials))])]),n("h3",[t._v(t._s(t.$store.state.account.name))]),n("p",{staticClass:"text-caption mt-1"},[t._v(t._s(t.$store.state.account.username))]),n("v-divider",{staticClass:"my-3"}),n("v-btn",{attrs:{depressed:"",rounded:"",text:""},on:{click:function(e){return t.$emit("logout")}}},[t._v(" Disconnect ")])],1)])],1)],1):n("v-menu",{attrs:{"close-on-content-click":!1,bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-btn",t._g({attrs:{icon:"","x-large":""},on:{click:function(e){return t.$emit("login")}}},s),[n("v-icon",[t._v("mdi-login")])],1)]}}])})],1)},ut=[],vt={data:function(){return{}}},dt=vt,pt=n("8212"),ft=Object(b["a"])(dt,lt,ut,!1,null,null,null),mt=ft.exports;y()(ft,{VAvatar:pt["a"],VBtn:B["a"],VCard:N["a"],VCol:F["a"],VDivider:H["a"],VIcon:S["a"],VListItemContent:E["a"],VMenu:st["a"]});var ht={components:{login:mt},props:["settings","account"],data:function(){return{filter:{},dropdown:!1,logged:!0}}},gt=ht,bt=n("a609"),_t=n("b974"),yt=n("8654"),wt=n("71d9"),kt=Object(b["a"])(gt,rt,ct,!1,null,null,null),Ct=kt.exports;y()(kt,{VBtn:B["a"],VBtnToggle:bt["a"],VContainer:et["a"],VIcon:S["a"],VSelect:_t["a"],VSpacer:I["a"],VTextField:yt["a"],VToolbar:wt["a"]});var xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{color:"primary darken-2",padless:""}},[n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-btn",{staticClass:"my-2",attrs:{href:"https://cnpemcamp.sharepoint.com/sites/iot/SitePages/SIMAR-Soft.aspx",color:"white",text:"",rounded:""}},[t._v(" wiki ")]),n("v-btn",{staticClass:"my-2",attrs:{href:"https://gitlab.cnpem.br/IoT/simar-vue",color:"white",text:"",rounded:""}},[t._v(" gitlab ")]),n("v-btn",{staticClass:"my-2",attrs:{href:"mailto:guilherme.freitas@cnpem.br",color:"white",text:"",rounded:""}},[t._v(" contact ")])],1)],1)},Vt=[],St=n("553a"),Pt={},Ot=Object(b["a"])(Pt,xt,Vt,!1,null,null,null),Et=Ot.exports;y()(Ot,{VBtn:B["a"],VFooter:St["a"],VRow:ot["a"]});var $t={name:"App",components:{toolbar:Ct,iterator:at,ft:Et},data:function(){return{settings:{sortDesc:!1,sortBy:"Name",search:"",keys:["Name","Temperature","Pressure","Rack open","Fan speed","Humidity"],pvs:{}},account:void 0,snackbar_text:"",snackbar:!1}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=new r["a"](t.$store.state.msalConfig),t.$store.commit("setInstance",n);case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this.$store.state.msalInstance.getAllAccounts();0!=t.length&&(t[0].initials=this.getInitials(t[0]),this.$store.commit("setAccount",t[0]))},methods:{updateSearch:function(t){this.settings.search=t},updateDesc:function(t){this.settings.sortDesc=t},updateSort:function(t){this.settings.sortBy=t},getInitials:function(t){return t.name.split(" ")[0].substring(0,1)},login:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.msalInstance.loginPopup({}).then((function(){var e=t.$store.state.msalInstance.getAllAccounts();e[0].initials=t.getInitials(e[0]),t.$store.commit("setAccount",e[0])})).catch((function(t){console.error("error during authentication: ".concat(t))}));case 2:t.$store.commit("showSnackback","Logged in as ".concat(t.$store.state.account.username));case 3:case"end":return e.stop()}}),e)})))()},logout:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.msalInstance.logout({}).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},It=$t,Lt=(n("bacc"),n("7496")),Rt=n("f6c4"),Dt=n("2db4"),jt=Object(b["a"])(It,o,i,!1,null,"1a89cc81",null),Tt=jt.exports;y()(jt,{VApp:Lt["a"],VBtn:B["a"],VIcon:S["a"],VMain:Rt["a"],VSnackbar:Dt["a"]});var At=n("f309");s["a"].use(At["a"]);var Bt=new At["a"]({}),Nt=n("2f62");s["a"].use(Nt["a"]);var Mt=new Nt["a"].Store({state:{msalConfig:{auth:{clientId:"22b80e5a-e13f-48a2-b20f-9b3c24b90d64",authority:"https://login.microsoftonline.com/ed764e1f-b3b8-4aaf-8fb2-1d05be08443b"},cache:{cacheLocation:"localStorage"}},accessToken:"",msalInstance:"",account:void 0,message:"",snackbar:!1},mutations:{setAccessToken:function(t,e){t.accessToken=e},setInstance:function(t,e){t.msalInstance=e},setAccount:function(t,e){t.account=e},showSnackbar:function(t,e){t.snackbar=!0,t.message=e}}}),Ft=Mt;s["a"].config.productionTip=!1,s["a"].prototype.$msalInstance={},new s["a"]({store:Ft,vuetify:Bt,render:function(t){return t(Tt)}}).$mount("#app")},"5c59":function(t,e,n){},6302:function(t,e,n){},"789d":function(t,e,n){"use strict";n("6302")},bacc:function(t,e,n){"use strict";n("5c59")}});
//# sourceMappingURL=app.6848d45c.js.map