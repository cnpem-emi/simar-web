(function(e){function t(t){for(var o,a,r=t[0],c=t[1],l=t[2],d=0,v=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&v.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(v.length)v.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},s=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"336c":function(e,t,n){e.exports=n.p+"img/back.ab239617.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",{attrs:{fluid:""}},[n("toolbar",{attrs:{settings:e.settings},on:{sort:e.updateSort,desc:e.updateDesc,view:e.updateView,search:e.updateSearch}}),n("iterator",{attrs:{settings:e.settings}})],1)],1)},s=[],a=(n("ac1f"),n("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-data-iterator",{directives:[{name:"show",rawName:"v-show",value:this.settings.viewMode,expression:"this.settings.viewMode"}],attrs:{items:e.items,"items-per-page":e.itemsPerPage,page:e.page,search:this.settings.search,"sort-by":this.settings.sortBy,"sort-desc":this.settings.sortDesc},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t},"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-row",e._l(t.items,(function(t){return n("v-col",{key:t.name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[n("v-card",[n("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(" "+e._s(t.name)+" ")]),n("v-divider"),n("v-list",{attrs:{dense:""}},e._l(e.filteredKeys,(function(o,i){return n("v-list-item",{key:i},[n("v-list-item-content",[e._v(" "+e._s(o)+": ")]),n("v-chip",{staticClass:"align-end",attrs:{color:e.get_pv_color(t,o),"text-color":"white"}},[e._v(" "+e._s(t[o.toLowerCase()])+" ")])],1)})),1)],1)],1)})),1)]}}])}),n("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!this.settings.viewMode,expression:"!this.settings.viewMode"}],staticClass:"elevation-1",attrs:{items:e.items,headers:e.headers,search:this.settings.search},scopedSlots:e._u([{key:"item",fn:function(t){var o=t.item;return[n("tr",e._l(e.headers,(function(t,i){return n("td",{key:i},[i>0?n("div",[n("v-chip",{attrs:{"text-color":"white",color:e.get_pv_color(o,t.text)}},[e._v(e._s(o[t.value]))])],1):0==i||1==i?n("div",[n("p",[e._v(e._s(o[t.value]))])]):e._e()])})),0)]}}])})],1)}),r=[],c=(n("4de4"),n("c975"),n("d81d"),n("b0c0"),n("b680"),n("d3b7"),n("ddb0"),n("fb6a"),c||{});c.epics2web=c.epics2web||{},c.contextPrefix=c.contextPrefix||"",function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),c.epics2web.ClientConnection=function(e){var t="ws:";"https:"===window.location.protocol&&(t="wss:");var n={url:t+"//"+window.location.host+c.contextPrefix+"/epics2web/monitor",autoOpen:!0,autoReconnect:!0,autoLivenessPingAndTimeout:!0,autoDisplayClasses:!0,pingIntervalMillis:3e3,livenessTimoutMillis:2e3,reconnectWaitMillis:1e3,chunkedRequestPvsCount:400,clientName:window.location.href};for(var o in e||(e={}),n)"undefined"!==typeof e[o]?this[o]=e[o]:this[o]=n[o];var i=null,s=document.createElement("div"),a=null,r=this,l=null,u=!1,d=function(){null!==i&&i.readyState===WebSocket.OPEN&&(r.ping(),null!==l||(l=setTimeout((function(){i.readyState===WebSocket.OPEN&&i.close(),l=null}),r.livenessTimoutMillis)))};s.addEventListener("open",(function(e){r.onopen(e)})),s.addEventListener("close",(function(e){r.onclose(e)})),s.addEventListener("connecting",(function(e){r.onconnecting(e)})),s.addEventListener("closing",(function(e){r.onclosing(e)})),s.addEventListener("error",(function(e){r.onerror(e)})),s.addEventListener("message",(function(e){r.onmessage(e)})),s.addEventListener("info",(function(e){r.oninfo(e)})),s.addEventListener("update",(function(e){r.onupdate(e)})),s.addEventListener("pong",(function(e){r.onpong(e)})),this.addEventListener=s.addEventListener.bind(s),this.removeEventListener=s.removeEventListener.bind(s),this.dispatchEvent=s.dispatchEvent.bind(s),this.open=function(){if(null!==i&&i.readyState!==WebSocket.CLOSED)return console.log("already connected"),1;var e=new CustomEvent("connecting");s.dispatchEvent(e);var t=this.url;null!==this.clientName&&(t=t+"?clientName="+encodeURIComponent(this.clientName)),i=new WebSocket(t),i.onerror=function(e){console.log("server connection error"),console.log(e);var t=new CustomEvent("error");s.dispatchEvent(t)},i.onclose=function(e){console.log("server connection closed"),console.log(e.reason);var t=new CustomEvent("close");s.dispatchEvent(t),null!==l&&(clearTimeout(l),l=null);var n=null===i||i.readyState===WebSocket.CLOSED;r.autoReconnect&&!u&&n&&(u=!0,setTimeout((function(){r.open(),u=!1}),r.reconnectWaitMillis))},i.onmessage=function(e){null!==l&&(clearTimeout(l),l=null),a=new Date;var t=JSON.parse(e.data);if(t.date=a,"update"===t.type){var n=new CustomEvent("update",{detail:t});s.dispatchEvent(n)}else if("info"===t.type){var o=new CustomEvent("info",{detail:t});s.dispatchEvent(o)}else if("pong"===t.type){var i=new CustomEvent("pong");s.dispatchEvent(i)}var r=new CustomEvent("message");s.dispatchEvent(r,{detail:t})},i.onopen=function(){a=new Date;var e=new CustomEvent("open");s.dispatchEvent(e)}},this.close=function(e,t){console.log("close"),null!==i&&i.readyState!==WebSocket.CLOSED?("undefined"===typeof e&&(e=1e3),i.close(e,t)):console.log("already closed")},this.monitorPvs=function(e){var t,n,o;if(r.chunkedRequestPvsCount>0)for(t=0,n=e.length;t<n;t+=r.chunkedRequestPvsCount)o=e.slice(t,t+r.chunkedRequestPvsCount),this.monitorPvsChunk(o);else this.monitorPvsChunk(e)},this.monitorPvsChunk=function(e){var t={type:"monitor",pvs:e};i.send(JSON.stringify(t))},this.clearPvs=function(e){var t,n,o;if(r.chunkedRequestPvsCount>0)for(t=0,n=e.length;t<n;t+=r.chunkedRequestPvsCount)o=e.slice(t,t+r.chunkedRequestPvsCount),this.clearPvsChunk(o);else this.clearPvsChunk(e)},this.clearPvsChunk=function(e){var t={type:"clear",pvs:e};i.send(JSON.stringify(t))},this.ping=function(){var e={type:"ping"};i.send(JSON.stringify(e))},!0===this.autoOpen&&this.open(),!0===this.autoLivenessPingAndTimeout&&window.setInterval(d,this.pingIntervalMillis)},c.epics2web.ClientConnection.prototype.onopen=function(){},c.epics2web.ClientConnection.prototype.onclose=function(){},c.epics2web.ClientConnection.prototype.onconnecting=function(){},c.epics2web.ClientConnection.prototype.onclosing=function(){},c.epics2web.ClientConnection.prototype.onmessage=function(){},c.epics2web.ClientConnection.prototype.onerror=function(){},c.epics2web.ClientConnection.prototype.onupdate=function(){},c.epics2web.ClientConnection.prototype.oninfo=function(){},c.epics2web.ClientConnection.prototype.onpong=function(){},c.epics2web.isNumericEpicsType=function(e){var t;switch(e){case"DBR_DOUBLE":case"DBR_FLOAT":case"DBR_INT":case"DBR_SHORT":case"DBR_BYTE":t=!0;break;default:t=!1}return t};var l=function(){var e="10.0.38.42";if("vpn.cnpem.br"===window.location.host){var t=/https?\/((?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])))\//,n=t.exec(window.location.href);n&&n.length>1&&(e=n[1])}else e=window.location.host;return"0.0.0.0:8000"===e&&(e="10.0.38.42",console.log("DEBUG SERVER. Setting host to 10.0.38.42")),e},u={url:"ws://"+l()+"/epics2web/monitor"},d=new c.epics2web.ClientConnection(u),v={props:["settings","keys"],data:function(){return{filter:{},page:1,itemsPerPage:8,headers:[{text:"Name",value:"name"},{text:"Value",value:"value"},{text:"Connected",value:"connected"}],items:[{name:"RAD:Thermo12:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo11:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo10:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo9:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo8:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo7:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo6:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo5:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo4:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo3:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"},{name:"RAD:Thermo2:TotalDoseRate:Dose",value:"300 uSv",connected:"Yes"}]}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(e){return"Name"!==e}))}},methods:{nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},get_pv_color:function(e,t){var n="Yes"==e.connected;if("Connected"===t)return n?"green":"red";var o=parseFloat(e.value);return n?o>1?"red":o>.6?"orange":"green":"grey"}},created:function(){var e=this;console.log(e.items),d.onopen=function(){d.monitorPvs(e.items.map((function(e){return e.name})))},d.onupdate=function(t){var n=e.items.map((function(e){return e.name})).indexOf(t.detail.pv);e.items[n].value=t.detail.value.toFixed(2)+" uSv"}}},p=v,f=n("2877"),m=n("6544"),h=n.n(m),g=n("b0af"),w=n("99d9"),b=n("cc20"),y=n("62ad"),C=n("a523"),D=n("c377"),E=n("8fea"),_=n("ce7e"),P=n("8860"),S=n("da13"),k=n("5d23"),T=n("0fd9"),R=Object(f["a"])(p,a,r,!1,null,null,null),x=R.exports;h()(R,{VCard:g["a"],VCardTitle:w["a"],VChip:b["a"],VCol:y["a"],VContainer:C["a"],VDataIterator:D["a"],VDataTable:E["a"],VDivider:_["a"],VList:P["a"],VListItem:S["a"],VListItemContent:k["a"],VRow:T["a"]});var O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{attrs:{fluid:""}},[o("v-toolbar",{staticClass:"mb-1",attrs:{src:n("336c"),dark:"",color:"blue darken-3"}},[o("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{input:function(t){return e.$emit("search",t)}}}),e.$vuetify.breakpoint.mdAndUp?[o("v-spacer"),o("v-select",{directives:[{name:"show",rawName:"v-show",value:this.settings.viewMode,expression:"this.settings.viewMode"}],attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(t){return e.$emit("desc",t)}}}),o("v-spacer"),o("v-btn-toggle",{directives:[{name:"show",rawName:"v-show",value:this.settings.viewMode,expression:"this.settings.viewMode"}],attrs:{mandatory:""},on:{change:function(t){return e.$emit("sort",t)}}},[o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1,align:"start"}},[o("v-icon",[e._v("mdi-trending-up")])],1),o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[o("v-icon",[e._v("mdi-trending-down")])],1)],1),o("v-spacer"),o("v-btn-toggle",{attrs:{mandatory:""},on:{change:function(t){return e.$emit("view",t)}}},[o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1}},[o("v-icon",[e._v("mdi-table")])],1),o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[o("v-icon",[e._v("mdi-view-module")])],1)],1)]:e._e(),e.$vuetify.breakpoint.smAndDown?[o("v-btn",{attrs:{icon:""},on:{click:function(t){e.dropdown=!e.dropdown}}},[o("v-icon",[e._v("mdi-menu")])],1)]:e._e()],2),e.dropdown&&e.$vuetify.breakpoint.smAndDown?o("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[o("v-select",{directives:[{name:"show",rawName:"v-show",value:this.settings.viewMode,expression:"this.settings.viewMode"}],attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(t){return e.$emit("desc",t)}}}),o("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.settings.viewMode,expression:"this.settings.viewMode"}],attrs:{icon:""},on:{click:function(t){return e.$emit("view",!1)}}},[o("v-icon",[e._v("mdi-table")])],1),o("v-btn",{directives:[{name:"show",rawName:"v-show",value:!this.settings.viewMode,expression:"!this.settings.viewMode"}],attrs:{icon:""},on:{click:function(t){return e.$emit("view",!0)}}},[o("v-icon",[e._v("mdi-view-module")])],1),o("v-btn-toggle",{directives:[{name:"show",rawName:"v-show",value:this.settings.viewMode,expression:"this.settings.viewMode"}],attrs:{mandatory:""},on:{change:function(t){return e.$emit("sort",t)}}},[o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1,align:"start"}},[o("v-icon",[e._v("mdi-trending-up")])],1),o("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[o("v-icon",[e._v("mdi-trending-down")])],1)],1)],1):e._e()],1)},M=[],V={props:["settings","keys"],data:function(){return{filter:{},dropdown:!1}}},L=V,N=n("8336"),A=n("a609"),$=n("132d"),B=n("b974"),Y=n("2fa4"),j=n("8654"),I=n("71d9"),W=Object(f["a"])(L,O,M,!1,null,null,null),q=W.exports;h()(W,{VBtn:N["a"],VBtnToggle:A["a"],VContainer:C["a"],VIcon:$["a"],VSelect:B["a"],VSpacer:Y["a"],VTextField:j["a"],VToolbar:I["a"]});var J={name:"App",components:{toolbar:q,iterator:x},data:function(){return{settings:{sortDesc:!1,viewMode:!0,sortBy:"name",search:""},keys:["Name","Value","Connected"]}},methods:{updateSearch:function(e){this.settings.search=e},updateView:function(e){this.settings.viewMode=e},updateDesc:function(e){this.settings.sortBy=e.toLowerCase()},updateSort:function(e){this.settings.sortDesc=e}}},F=J,U=n("7496"),K=n("f6c4"),G=Object(f["a"])(F,i,s,!1,null,null,null),H=G.exports;h()(G,{VApp:U["a"],VMain:K["a"]});var z=n("f309");o["a"].use(z["a"]);var Q=new z["a"]({});o["a"].config.productionTip=!1,new o["a"]({vuetify:Q,render:function(e){return e(H)}}).$mount("#app")}});
//# sourceMappingURL=app.e527fb4a.js.map