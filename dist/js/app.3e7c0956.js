(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1194:function(e,t,n){},"2b14":function(e,t,n){"use strict";n("7cff")},"336c":function(e,t,n){e.exports=n.p+"img/back.ab239617.png"},"42f2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",{attrs:{fluid:""}},[n("toolbar",{attrs:{settings:e.settings},on:{sort:e.updateSort,desc:e.updateDesc,search:e.updateSearch}}),n("iterator",{attrs:{settings:e.settings}})],1),n("ft")],1)},s=[],i=(n("ac1f"),n("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-data-iterator",{attrs:{items:e.items,"items-per-page":e.itemsPerPage,page:e.page,search:this.settings.search,"sort-by":this.settings.sortBy,"sort-desc":this.settings.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t},"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-row",e._l(t.items,(function(r){return n("v-col",{key:r.name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[n("iteratorcard",{key:r.name,attrs:{items:t.items,config:e.config,item:r,filteredKeys:e.filteredKeys}})],1)})),1)]}},{key:"footer",fn:function(){return[n("v-row",{staticClass:"mt-2 no-margin",attrs:{align:"center",justify:"center"}},[n("span",{staticClass:"white--text"},[e._v("Items per page")]),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"ml-2 blue-background",attrs:{dark:"",text:"",color:"white"}},"v-btn",a,!1),r),[e._v(" "+e._s(e.itemsPerPage)+" "),n("v-icon",[e._v("mdi-chevron-down")])],1)]}}])},[n("v-list",e._l([8,12,16,20],(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.updateItemsPerPage(t)}}},[n("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1),n("v-spacer"),n("span",{staticClass:"mr-4 white--text"},[e._v(" Page "+e._s(e.page)+" of "+e._s(e.numberOfPages)+" ")]),n("v-btn",{staticClass:"mr-1",attrs:{dark:"",color:"blue darken-3"},on:{click:e.formerPage}},[n("v-icon",[e._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"ml-1",attrs:{dark:"",color:"blue darken-3"},on:{click:e.nextPage}},[n("v-icon",[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)}),o=[],c=(n("99af"),n("4de4"),n("c740"),n("caad"),n("b0c0"),n("b680"),n("d3b7"),n("2532"),n("ddb0"),n("b85c")),u=(n("96cf"),n("1da1")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(" "+e._s(e.item.name)+" ")]),n("v-divider"),n("v-list",{attrs:{dense:""}},e._l(e.filteredKeys,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[e._v(" "+e._s(t)+": ")]),"Fan speed"===t?n("v-btn",{attrs:{text:"",rounded:""},on:{click:function(t){e.edit_fan=!e.edit_fan}}},[n("v-icon",[e._v("mdi-pencil")])],1):e._e(),"Fan speed"==t&&e.edit_fan?n("v-text-field",{attrs:{suffix:"RPM",label:"Speed",type:"number",outlined:"",dense:"","hide-details":"true"}}):e._e(),"Fan speed"==t&&e.edit_fan?e._e():n("v-chip",{staticClass:"align-end",attrs:{color:e.get_pv_color(e.item,t),"text-color":"white"}},[e._v(" "+e._s(e.item[t.toLowerCase()])+" ")])],1)})),1)],1)},d=[],f=(n("acd8"),{props:["items","item","filteredKeys","config"],data:function(){return{edit_fan:!1}},methods:{get_pv_color:function(e,t){if("?"===e[t.toLowerCase()])return"gray";var n=this.items.findIndex((function(t){return t.name===e.name})),r=parseFloat(e[t.toLowerCase()]),a=t.toLowerCase().substring(0,1);switch(t){case"Temperature":return r>this.config[n].t_hihi?"red":r>this.config[n].t_hi?"orange":"green";case"Rack open":return"No"===e["rack open"]?"green":"orange";default:return r>this.config[n][a+"_hihi"]||r<this.config[n][a+"_lolo"]?"red":r>this.config[n][a+"_hi"]||r<this.config[n][a+"_lo"]?"orange":"green"}}}}),p=f,v=(n("2b14"),n("2877")),m=n("6544"),g=n.n(m),h=n("8336"),b=n("b0af"),_=n("99d9"),y=n("cc20"),w=n("ce7e"),k=n("132d"),P=n("8860"),x=n("da13"),V=n("5d23"),C=n("8654"),O=Object(v["a"])(p,l,d,!1,null,null,null),j=O.exports;g()(O,{VBtn:h["a"],VCard:b["a"],VCardTitle:_["a"],VChip:y["a"],VDivider:w["a"],VIcon:k["a"],VList:P["a"],VListItem:x["a"],VListItemContent:V["a"],VTextField:C["a"]});var S=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){var n=[];fetch("config.json").then((function(e){return e.json()})).then((function(r){t.headers=r.headers;var a,s=Object(c["a"])(r.items);try{for(s.s();!(a=s.n()).done;){var i=a.value;t.config.push(i.config),t.items.push(i.fields),n=n.concat(i.config.pvs)}}catch(o){s.e(o)}finally{s.f()}e(n)}))}),100)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$={props:["settings"],components:{iteratorcard:j},data:function(){return{filter:{},page:1,itemsPerPage:8,headers:[],items:[],config:[],symbols:{temperature:" C",pressure:" hPa",voltage:" V"}}},computed:{numberOfPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},filteredKeys:function(){return this.settings.keys.filter((function(e){return"Name"!==e}))}},methods:{nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e}},created:function(){var e=this,t=new WebSocket("ws://127.0.0.1:5678/");t.onopen=Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,S(e);case 2:r=n.sent,t.send(r);case 4:case"end":return n.stop()}}),n)}))),t.onmessage=function(t){var n=JSON.parse(t.data),r=n["name"].toLowerCase(),a=e.config.findIndex((function(e){return e.pvs.includes(r)}));switch(r){case"pressure":e.items[a]["rack open"]=n.value>e.config[a].hatch?"No":"Yes";break;default:break}e.items[a][r]=n.value.toFixed(2)+e.symbols[r]}}},D=$,I=(n("f722"),n("62ad")),T=n("a523"),L=n("c377"),F=n("e449"),N=n("0fd9"),M=n("2fa4"),R=Object(v["a"])(D,i,o,!1,null,"42da251a",null),B=R.exports;g()(R,{VBtn:h["a"],VCol:I["a"],VContainer:T["a"],VDataIterator:L["a"],VIcon:k["a"],VList:P["a"],VListItem:x["a"],VListItemTitle:V["b"],VMenu:F["a"],VRow:N["a"],VSpacer:M["a"]});var E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-toolbar",{staticClass:"mb-1",attrs:{src:n("336c"),dark:"",color:"blue darken-3"}},[r("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},on:{input:function(t){return e.$emit("search",t)}}}),e.$vuetify.breakpoint.mdAndUp?[r("v-spacer"),r("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:this.settings.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(t){return e.$emit("sort",t)}}}),r("v-spacer"),r("v-btn-toggle",{attrs:{mandatory:""},on:{change:function(t){return e.$emit("desc",t)}}},[r("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1,align:"start"}},[r("v-icon",[e._v("mdi-trending-up")])],1),r("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[r("v-icon",[e._v("mdi-trending-down")])],1)],1)]:e._e(),e.$vuetify.breakpoint.smAndDown?[r("v-btn",{attrs:{icon:""},on:{click:function(t){e.dropdown=!e.dropdown}}},[r("v-icon",[e._v("mdi-menu")])],1)]:e._e()],2),e.dropdown&&e.$vuetify.breakpoint.smAndDown?r("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[r("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:this.settings.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},on:{change:function(t){return e.$emit("sort",t)}}}),r("v-spacer"),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:!this.settings.sortDesc,expression:"!this.settings.sortDesc"}],attrs:{large:"",depressed:"",color:"blue"},on:{click:function(t){return e.$emit("desc",!0)}}},[r("v-icon",[e._v("mdi-trending-down")])],1),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:this.settings.sortDesc,expression:"this.settings.sortDesc"}],attrs:{large:"",depressed:"",color:"blue",align:"start"},on:{click:function(t){return e.$emit("desc",!1)}}},[r("v-icon",[e._v("mdi-trending-up")])],1)],1):e._e()],1)},A=[],K={props:["settings"],data:function(){return{filter:{},dropdown:!1}}},J=K,Y=n("a609"),U=n("b974"),W=n("71d9"),q=Object(v["a"])(J,E,A,!1,null,null,null),z=q.exports;g()(q,{VBtn:h["a"],VBtnToggle:Y["a"],VContainer:T["a"],VIcon:k["a"],VSelect:U["a"],VSpacer:M["a"],VTextField:C["a"],VToolbar:W["a"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{attrs:{color:"primary darken-2",padless:""}},[n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-btn",{staticClass:"my-2",attrs:{href:"https://wiki-sirius.lnls.br/mediawiki/index.php/CON:CON",color:"white",text:"",rounded:""}},[e._v(" wiki ")]),n("v-btn",{staticClass:"my-2",attrs:{href:"https://gitlab.cnpem.br/IoT/simar-vue",color:"white",text:"",rounded:""}},[e._v(" gitlab ")]),n("v-btn",{staticClass:"my-2",attrs:{href:"mailto:guilherme.freitas@cnpem.br",color:"white",text:"",rounded:""}},[e._v(" contact ")]),n("v-col",{staticClass:"primary darken-3 py-4 text-center white--text",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),n("strong",[e._v("CNPEM")])])],1)],1)},H=[],Q=n("553a"),X={},Z=Object(v["a"])(X,G,H,!1,null,null,null),ee=Z.exports;g()(Z,{VBtn:h["a"],VCol:I["a"],VFooter:Q["a"],VRow:N["a"]});var te={name:"App",components:{toolbar:z,iterator:B,ft:ee},data:function(){return{settings:{sortDesc:!1,sortBy:"name",search:"",keys:["Name","Temperature","Pressure","Voltage","Rack open","Fan speed"]}}},methods:{updateSearch:function(e){this.settings.search=e},updateDesc:function(e){this.settings.sortDesc=e},updateSort:function(e){this.settings.sortBy=e.toLowerCase()}}},ne=te,re=(n("765a"),n("7496")),ae=n("f6c4"),se=Object(v["a"])(ne,a,s,!1,null,"22a93a41",null),ie=se.exports;g()(se,{VApp:re["a"],VMain:ae["a"]});var oe=n("f309");r["a"].use(oe["a"]);var ce=new oe["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:ce,render:function(e){return e(ie)}}).$mount("#app")},"765a":function(e,t,n){"use strict";n("1194")},"7cff":function(e,t,n){},f722:function(e,t,n){"use strict";n("42f2")}});
//# sourceMappingURL=app.3e7c0956.js.map